
[0;31mERROR[0m: ImpureMethodCall - ]8;;file:///Users/jsadaa/Github/personal/php-core-library/src/Modules/Process/Command.php#L45\src/Modules/Process/[1;31mCommand.php:45:16[0m]8;;\ - Cannot call an impure constructor from a pure context (see https://psalm.dev/203)
        return [97;41mnew self(
            ProcessBuilder::command($name),
            Sequence::new(),
            Duration::fromSeconds(30),
        )[0m;


[0;31mERROR[0m: MixedReturnTypeCoercion - ]8;;file:///Users/jsadaa/Github/personal/php-core-library/src/Modules/Process/Command.php#L183\src/Modules/Process/[1;31mCommand.php:183:16[0m]8;;\ - The declared return type 'Jsadaa\PhpCoreLibrary\Modules\Result\Result<Jsadaa\PhpCoreLibrary\Modules\Process\Output, Jsadaa\PhpCoreLibrary\Modules\Process\Output|string>' for Jsadaa\PhpCoreLibrary\Modules\Process\Command::runSingle is more specific than the inferred return type 'Jsadaa\PhpCoreLibrary\Modules\Result\Result<Jsadaa\PhpCoreLibrary\Modules\Process\Output, mixed>|Jsadaa\PhpCoreLibrary\Modules\Result\Result<mixed, Jsadaa\PhpCoreLibrary\Modules\Process\Output>|Jsadaa\PhpCoreLibrary\Modules\Result\Result<mixed, Jsadaa\PhpCoreLibrary\Modules\Time\Error\TimeOverflow|string>|Jsadaa\PhpCoreLibrary\Modules\Result\Result<mixed, string>' (see https://psalm.dev/197)
     * @return [97;41mResult<Output, Output|string>[0m


[0;31mERROR[0m: InvalidReturnStatement - ]8;;file:///Users/jsadaa/Github/personal/php-core-library/src/Modules/Process/Command.php#L190\src/Modules/Process/[1;31mCommand.php:190:20[0m]8;;\ - The inferred type 'Jsadaa\PhpCoreLibrary\Modules\Result\Result<mixed, string>' does not match the declared return type 'Jsadaa\PhpCoreLibrary\Modules\Result\Result<Jsadaa\PhpCoreLibrary\Modules\Process\Output, Jsadaa\PhpCoreLibrary\Modules\Process\Output|string>' for Jsadaa\PhpCoreLibrary\Modules\Process\Command::runSingle (see https://psalm.dev/128)
            return [97;41mResult::err($processResult->unwrapErr())[0m;


[0;31mERROR[0m: InvalidReturnStatement - ]8;;file:///Users/jsadaa/Github/personal/php-core-library/src/Modules/Process/Command.php#L198\src/Modules/Process/[1;31mCommand.php:198:20[0m]8;;\ - The inferred type 'Jsadaa\PhpCoreLibrary\Modules\Result\Result<mixed, Jsadaa\PhpCoreLibrary\Modules\Time\Error\TimeOverflow|string>' does not match the declared return type 'Jsadaa\PhpCoreLibrary\Modules\Result\Result<Jsadaa\PhpCoreLibrary\Modules\Process\Output, Jsadaa\PhpCoreLibrary\Modules\Process\Output|string>' for Jsadaa\PhpCoreLibrary\Modules\Process\Command::runSingle (see https://psalm.dev/128)
            return [97;41mResult::err($outputResult->unwrapErr())[0m;


[0;31mERROR[0m: MixedReturnTypeCoercion - ]8;;file:///Users/jsadaa/Github/personal/php-core-library/src/Modules/Process/Command.php#L203\src/Modules/Process/[1;31mCommand.php:203:16[0m]8;;\ - The type 'Jsadaa\PhpCoreLibrary\Modules\Result\Result<Jsadaa\PhpCoreLibrary\Modules\Process\Output, mixed>|Jsadaa\PhpCoreLibrary\Modules\Result\Result<mixed, Jsadaa\PhpCoreLibrary\Modules\Process\Output>' is more general than the declared return type 'Jsadaa\PhpCoreLibrary\Modules\Result\Result<Jsadaa\PhpCoreLibrary\Modules\Process\Output, Jsadaa\PhpCoreLibrary\Modules\Process\Output|string>' for Jsadaa\PhpCoreLibrary\Modules\Process\Command::runSingle (see https://psalm.dev/197)
        return [97;41m$output->isSuccess()
            ? Result::ok($output)
            : Result::err($output)[0m;


[0;31mERROR[0m: MixedReturnTypeCoercion - ]8;;file:///Users/jsadaa/Github/personal/php-core-library/src/Modules/Process/Command.php#L209\src/Modules/Process/[1;31mCommand.php:209:16[0m]8;;\ - The declared return type 'Jsadaa\PhpCoreLibrary\Modules\Result\Result<Jsadaa\PhpCoreLibrary\Modules\Process\Output, Jsadaa\PhpCoreLibrary\Modules\Process\Output|string>' for Jsadaa\PhpCoreLibrary\Modules\Process\Command::runPipeline is more specific than the inferred return type 'Jsadaa\PhpCoreLibrary\Modules\Result\Result<Jsadaa\PhpCoreLibrary\Modules\Process\Output, mixed>|Jsadaa\PhpCoreLibrary\Modules\Result\Result<mixed, Jsadaa\PhpCoreLibrary\Modules\Process\Output>|Jsadaa\PhpCoreLibrary\Modules\Result\Result<mixed, Jsadaa\PhpCoreLibrary\Modules\Time\Error\TimeOverflow|string>|Jsadaa\PhpCoreLibrary\Modules\Result\Result<mixed, string>' (see https://psalm.dev/197)
     * @return [97;41mResult<Output, Output|string>[0m


[0;31mERROR[0m: MixedAssignment - ]8;;file:///Users/jsadaa/Github/personal/php-core-library/src/Modules/Process/Command.php#L220\src/Modules/Process/[1;31mCommand.php:220:39[0m]8;;\ - Unable to determine the type that $index is being assigned to (see https://psalm.dev/032)
        foreach ($builders->iter() as [97;41m$index[0m => $builder) {


[0;31mERROR[0m: MixedOperand - ]8;;file:///Users/jsadaa/Github/personal/php-core-library/src/Modules/Process/Command.php#L223\src/Modules/Process/[1;31mCommand.php:223:60[0m]8;;\ - Left operand cannot be mixed (see https://psalm.dev/059)
                $prevProcess = $processes->get(Integer::of([97;41m$index[0m - 1))->unwrap();


[0;31mERROR[0m: MixedArgument - ]8;;file:///Users/jsadaa/Github/personal/php-core-library/src/Modules/Process/Command.php#L223\src/Modules/Process/[1;31mCommand.php:223:60[0m]8;;\ - Argument 1 of Jsadaa\PhpCoreLibrary\Primitives\Integer\Integer::of cannot be mixed, expecting int (see https://psalm.dev/030)
                $prevProcess = $processes->get(Integer::of([97;41m$index - 1[0m))->unwrap();


[0;31mERROR[0m: InvalidReturnStatement - ]8;;file:///Users/jsadaa/Github/personal/php-core-library/src/Modules/Process/Command.php#L250\src/Modules/Process/[1;31mCommand.php:250:24[0m]8;;\ - The inferred type 'Jsadaa\PhpCoreLibrary\Modules\Result\Result<mixed, string>' does not match the declared return type 'Jsadaa\PhpCoreLibrary\Modules\Result\Result<Jsadaa\PhpCoreLibrary\Modules\Process\Output, Jsadaa\PhpCoreLibrary\Modules\Process\Output|string>' for Jsadaa\PhpCoreLibrary\Modules\Process\Command::runPipeline (see https://psalm.dev/128)
                return [97;41mResult::err($processResult->unwrapErr())[0m;


[0;31mERROR[0m: InvalidReturnStatement - ]8;;file:///Users/jsadaa/Github/personal/php-core-library/src/Modules/Process/Command.php#L273\src/Modules/Process/[1;31mCommand.php:273:20[0m]8;;\ - The inferred type 'Jsadaa\PhpCoreLibrary\Modules\Result\Result<mixed, Jsadaa\PhpCoreLibrary\Modules\Time\Error\TimeOverflow|string>' does not match the declared return type 'Jsadaa\PhpCoreLibrary\Modules\Result\Result<Jsadaa\PhpCoreLibrary\Modules\Process\Output, Jsadaa\PhpCoreLibrary\Modules\Process\Output|string>' for Jsadaa\PhpCoreLibrary\Modules\Process\Command::runPipeline (see https://psalm.dev/128)
            return [97;41mResult::err($outputResult->unwrapErr())[0m;


[0;31mERROR[0m: MixedReturnTypeCoercion - ]8;;file:///Users/jsadaa/Github/personal/php-core-library/src/Modules/Process/Command.php#L278\src/Modules/Process/[1;31mCommand.php:278:16[0m]8;;\ - The type 'Jsadaa\PhpCoreLibrary\Modules\Result\Result<Jsadaa\PhpCoreLibrary\Modules\Process\Output, mixed>|Jsadaa\PhpCoreLibrary\Modules\Result\Result<mixed, Jsadaa\PhpCoreLibrary\Modules\Process\Output>' is more general than the declared return type 'Jsadaa\PhpCoreLibrary\Modules\Result\Result<Jsadaa\PhpCoreLibrary\Modules\Process\Output, Jsadaa\PhpCoreLibrary\Modules\Process\Output|string>' for Jsadaa\PhpCoreLibrary\Modules\Process\Command::runPipeline (see https://psalm.dev/197)
        return [97;41m$output->isSuccess()
            ? Result::ok($output)
            : Result::err($output)[0m;


[0;31mERROR[0m: MixedReturnTypeCoercion - ]8;;file:///Users/jsadaa/Github/personal/php-core-library/src/Modules/Process/Command.php#L299\src/Modules/Process/[1;31mCommand.php:299:16[0m]8;;\ - The declared return type 'Jsadaa\PhpCoreLibrary\Modules\Result\Result<Jsadaa\PhpCoreLibrary\Modules\Process\Process, string>' for Jsadaa\PhpCoreLibrary\Modules\Process\Command::spawn is more specific than the inferred return type 'Jsadaa\PhpCoreLibrary\Modules\Result\Result<Jsadaa\PhpCoreLibrary\Modules\Process\Process, string>|Jsadaa\PhpCoreLibrary\Modules\Result\Result<mixed, 'Cannot spawn a pipeline command. Use run() instead.'>' (see https://psalm.dev/197)
     * @return [97;41mResult<Process, string>[0m


[0;31mERROR[0m: MixedReturnTypeCoercion - ]8;;file:///Users/jsadaa/Github/personal/php-core-library/src/Modules/Process/Command.php#L304\src/Modules/Process/[1;31mCommand.php:304:20[0m]8;;\ - The type 'Jsadaa\PhpCoreLibrary\Modules\Result\Result<mixed, 'Cannot spawn a pipeline command. Use run() instead.'>' is more general than the declared return type 'Jsadaa\PhpCoreLibrary\Modules\Result\Result<Jsadaa\PhpCoreLibrary\Modules\Process\Process, string>' for Jsadaa\PhpCoreLibrary\Modules\Process\Command::spawn (see https://psalm.dev/197)
            return [97;41mResult::err("Cannot spawn a pipeline command. Use run() instead.")[0m;


[0;31mERROR[0m: MixedReturnTypeCoercion - ]8;;file:///Users/jsadaa/Github/personal/php-core-library/src/Modules/Process/Command.php#L313\src/Modules/Process/[1;31mCommand.php:313:16[0m]8;;\ - The declared return type 'Jsadaa\PhpCoreLibrary\Modules\Result\Result<Jsadaa\PhpCoreLibrary\Primitives\Str\Str, string>' for Jsadaa\PhpCoreLibrary\Modules\Process\Command::output is more specific than the inferred return type 'Jsadaa\PhpCoreLibrary\Modules\Result\Result<Jsadaa\PhpCoreLibrary\Primitives\Str\Str, mixed>|Jsadaa\PhpCoreLibrary\Modules\Result\Result<mixed, string>' (see https://psalm.dev/197)
     * @return [97;41mResult<Str, string>[0m


[0;31mERROR[0m: MixedReturnTypeCoercion - ]8;;file:///Users/jsadaa/Github/personal/php-core-library/src/Modules/Process/Command.php#L321\src/Modules/Process/[1;31mCommand.php:321:20[0m]8;;\ - The type 'Jsadaa\PhpCoreLibrary\Modules\Result\Result<mixed, string>' is more general than the declared return type 'Jsadaa\PhpCoreLibrary\Modules\Result\Result<Jsadaa\PhpCoreLibrary\Primitives\Str\Str, string>' for Jsadaa\PhpCoreLibrary\Modules\Process\Command::output (see https://psalm.dev/197)
            return [97;41mResult::err(
                $error instanceof Output
                ? $error->stderr()->toString()
                : $error
            )[0m;


[0;31mERROR[0m: MixedReturnTypeCoercion - ]8;;file:///Users/jsadaa/Github/personal/php-core-library/src/Modules/Process/Command.php#L328\src/Modules/Process/[1;31mCommand.php:328:16[0m]8;;\ - The type 'Jsadaa\PhpCoreLibrary\Modules\Result\Result<Jsadaa\PhpCoreLibrary\Primitives\Str\Str, mixed>' is more general than the declared return type 'Jsadaa\PhpCoreLibrary\Modules\Result\Result<Jsadaa\PhpCoreLibrary\Primitives\Str\Str, string>' for Jsadaa\PhpCoreLibrary\Modules\Process\Command::output (see https://psalm.dev/197)
        return [97;41mResult::ok($result->unwrap()->stdout())[0m;


[0;31mERROR[0m: ImpureMethodCall - ]8;;file:///Users/jsadaa/Github/personal/php-core-library/src/Modules/Process/ProcessBuilder.php#L52\src/Modules/Process/[1;31mProcessBuilder.php:52:16[0m]8;;\ - Cannot call an impure constructor from a pure context (see https://psalm.dev/203)
        return [97;41mnew self(
            is_string($command) ? Str::of($command) : $command,
            Sequence::new(),
            Path::of(getcwd() ?: '/'),
            Map::new(),
            ProcessStreams::defaults()
        )[0m;


[0;31mERROR[0m: MixedReturnTypeCoercion - ]8;;file:///Users/jsadaa/Github/personal/php-core-library/src/Modules/Process/ProcessBuilder.php#L167\src/Modules/Process/[1;31mProcessBuilder.php:167:16[0m]8;;\ - The declared return type 'Jsadaa\PhpCoreLibrary\Modules\Result\Result<Jsadaa\PhpCoreLibrary\Modules\Process\Process, string>' for Jsadaa\PhpCoreLibrary\Modules\Process\ProcessBuilder::spawn is more specific than the inferred return type 'Jsadaa\PhpCoreLibrary\Modules\Result\Result<Jsadaa\PhpCoreLibrary\Modules\Process\Process, mixed>|Jsadaa\PhpCoreLibrary\Modules\Result\Result<mixed, non-empty-string>' (see https://psalm.dev/197)
     * @return [97;41mResult<Process, string>[0m


[0;31mERROR[0m: MixedReturnTypeCoercion - ]8;;file:///Users/jsadaa/Github/personal/php-core-library/src/Modules/Process/ProcessBuilder.php#L172\src/Modules/Process/[1;31mProcessBuilder.php:172:20[0m]8;;\ - The type 'Jsadaa\PhpCoreLibrary\Modules\Result\Result<mixed, 'Command cannot be empty'>' is more general than the declared return type 'Jsadaa\PhpCoreLibrary\Modules\Result\Result<Jsadaa\PhpCoreLibrary\Modules\Process\Process, string>' for Jsadaa\PhpCoreLibrary\Modules\Process\ProcessBuilder::spawn (see https://psalm.dev/197)
            return [97;41mResult::err("Command cannot be empty")[0m;


[0;31mERROR[0m: InvalidReturnStatement - ]8;;file:///Users/jsadaa/Github/personal/php-core-library/src/Modules/Process/ProcessBuilder.php#L176\src/Modules/Process/[1;31mProcessBuilder.php:176:20[0m]8;;\ - The inferred type 'Jsadaa\PhpCoreLibrary\Modules\Result\Result<mixed, non-empty-string>' does not match the declared return type 'Jsadaa\PhpCoreLibrary\Modules\Result\Result<Jsadaa\PhpCoreLibrary\Modules\Process\Process, string>' for Jsadaa\PhpCoreLibrary\Modules\Process\ProcessBuilder::spawn (see https://psalm.dev/128)
            return [97;41mResult::err("Working directory does not exist: {$this->workingDirectory->toString()}")[0m;


[0;31mERROR[0m: MixedReturnTypeCoercion - ]8;;file:///Users/jsadaa/Github/personal/php-core-library/src/Modules/Process/ProcessBuilder.php#L193\src/Modules/Process/[1;31mProcessBuilder.php:193:20[0m]8;;\ - The type 'Jsadaa\PhpCoreLibrary\Modules\Result\Result<mixed, 'Failed to spawn process'>' is more general than the declared return type 'Jsadaa\PhpCoreLibrary\Modules\Result\Result<Jsadaa\PhpCoreLibrary\Modules\Process\Process, string>' for Jsadaa\PhpCoreLibrary\Modules\Process\ProcessBuilder::spawn (see https://psalm.dev/197)
            return [97;41mResult::err("Failed to spawn process")[0m;


[0;31mERROR[0m: MixedReturnTypeCoercion - ]8;;file:///Users/jsadaa/Github/personal/php-core-library/src/Modules/Process/ProcessBuilder.php#L197\src/Modules/Process/[1;31mProcessBuilder.php:197:16[0m]8;;\ - The type 'Jsadaa\PhpCoreLibrary\Modules\Result\Result<Jsadaa\PhpCoreLibrary\Modules\Process\Process, mixed>' is more general than the declared return type 'Jsadaa\PhpCoreLibrary\Modules\Result\Result<Jsadaa\PhpCoreLibrary\Modules\Process\Process, string>' for Jsadaa\PhpCoreLibrary\Modules\Process\ProcessBuilder::spawn (see https://psalm.dev/197)
        return [97;41mResult::ok(Process::fromHandle($handle, $pipes))[0m;


[0;31mERROR[0m: MixedReturnTypeCoercion - ]8;;file:///Users/jsadaa/Github/personal/php-core-library/src/Modules/Process/ProcessStreams.php#L109\src/Modules/Process/[1;31mProcessStreams.php:109:16[0m]8;;\ - The declared return type 'array<int, array<array-key, mixed>|resource>' for Jsadaa\PhpCoreLibrary\Modules\Process\ProcessStreams::toDescriptorArray is more specific than the inferred return type 'array<array-key, list{0: string, 1: string, 2?: string}|mixed|resource>' (see https://psalm.dev/197)
     * @return [97;41marray<int, array|resource>[0m


[0;31mERROR[0m: MixedReturnTypeCoercion - ]8;;file:///Users/jsadaa/Github/personal/php-core-library/src/Modules/Process/ProcessStreams.php#L113\src/Modules/Process/[1;31mProcessStreams.php:113:16[0m]8;;\ - The type 'array<array-key, list{0: string, 1: string, 2?: string}|mixed|resource>' is more general than the declared return type 'array<int, array<array-key, mixed>|resource>' for Jsadaa\PhpCoreLibrary\Modules\Process\ProcessStreams::toDescriptorArray (see https://psalm.dev/197)
        return [97;41m$this
            ->descriptors
            ->fold(
                function (array $carry, FileDescriptor $fd, StreamDescriptor $descriptor) {
                    $carry[$fd->toInt()] = $descriptor->toDescriptor();
                    return $carry;
                },
                []
            )[0m;


[0;31mERROR[0m: InvalidNullableReturnType - ]8;;file:///Users/jsadaa/Github/personal/php-core-library/src/Modules/Process/StreamDescriptor.php#L119\src/Modules/Process/[1;31mStreamDescriptor.php:119:16[0m]8;;\ - The declared return type 'list{0: string, 1: string, 2?: string}|resource' for Jsadaa\PhpCoreLibrary\Modules\Process\StreamDescriptor::toDescriptor is not nullable, but 'list{0: string, 1: string, 2?: string}|null|resource' contains null (see https://psalm.dev/144)
     * @return [97;41marray{string, string}|array{string, string, string}|resource[0m


[0;31mERROR[0m: NullableReturnStatement - ]8;;file:///Users/jsadaa/Github/personal/php-core-library/src/Modules/Process/StreamDescriptor.php#L123\src/Modules/Process/[1;31mStreamDescriptor.php:123:16[0m]8;;\ - The declared return type 'list{0: string, 1: string, 2?: string}|resource' for Jsadaa\PhpCoreLibrary\Modules\Process\StreamDescriptor::toDescriptor is not nullable, but the function returns 'list{0: 'file'|'pipe', 1: string, 2?: string}|null|resource' (see https://psalm.dev/139)
        return [97;41mmatch ($this->type) {
            StreamType::PIPE => ['pipe', $this->mode->isSome() ? $this->mode->unwrap()->toString() : 'r'],
            StreamType::FILE => [
                'file',
                $this->path->isSome()
                ? $this->path->unwrap()->toString()
                : '',
                $this->mode->isSome()
                ? $this->mode->unwrap()->toString()
                : 'r',
            ],
            StreamType::RESOURCE => $this->resource,
            StreamType::INHERIT => match (PHP_OS_FAMILY) {
                    'Windows' => ['pipe', 'r'],
                    default => STDIN,  // Will be overridden for stdout/stderr
                },
            StreamType::NULL => match (PHP_OS_FAMILY) {
                    'Windows' => ['file', 'NUL', 'r'],
                    default => ['file', '/dev/null', 'r'],
                },
        }[0m;


[0;31mERROR[0m: ImpureMethodCall - ]8;;file:///Users/jsadaa/Github/personal/php-core-library/src/Modules/Process/StreamReader.php#L39\src/Modules/Process/[1;31mStreamReader.php:39:16[0m]8;;\ - Cannot call an impure constructor from a pure context (see https://psalm.dev/203)
        return [97;41mnew self(
            $stream,
            is_int($bufferSize) ? Integer::of($bufferSize) : $bufferSize
        )[0m;


[0;31mERROR[0m: MixedReturnTypeCoercion - ]8;;file:///Users/jsadaa/Github/personal/php-core-library/src/Modules/Process/StreamReader.php#L48\src/Modules/Process/[1;31mStreamReader.php:48:16[0m]8;;\ - The declared return type 'Jsadaa\PhpCoreLibrary\Modules\Result\Result<Jsadaa\PhpCoreLibrary\Primitives\Str\Str, string>' for Jsadaa\PhpCoreLibrary\Modules\Process\StreamReader::readAvailable is more specific than the inferred return type 'Jsadaa\PhpCoreLibrary\Modules\Result\Result<Jsadaa\PhpCoreLibrary\Primitives\Str\Str, mixed>|Jsadaa\PhpCoreLibrary\Modules\Result\Result<mixed, 'Failed to read from stream'>' (see https://psalm.dev/197)
     * @return [97;41mResult<Str, string>[0m


[0;31mERROR[0m: MixedReturnTypeCoercion - ]8;;file:///Users/jsadaa/Github/personal/php-core-library/src/Modules/Process/StreamReader.php#L57\src/Modules/Process/[1;31mStreamReader.php:57:20[0m]8;;\ - The type 'Jsadaa\PhpCoreLibrary\Modules\Result\Result<mixed, 'Failed to read from stream'>' is more general than the declared return type 'Jsadaa\PhpCoreLibrary\Modules\Result\Result<Jsadaa\PhpCoreLibrary\Primitives\Str\Str, string>' for Jsadaa\PhpCoreLibrary\Modules\Process\StreamReader::readAvailable (see https://psalm.dev/197)
            return [97;41mResult::err("Failed to read from stream")[0m;


[0;31mERROR[0m: MixedReturnTypeCoercion - ]8;;file:///Users/jsadaa/Github/personal/php-core-library/src/Modules/Process/StreamReader.php#L60\src/Modules/Process/[1;31mStreamReader.php:60:16[0m]8;;\ - The type 'Jsadaa\PhpCoreLibrary\Modules\Result\Result<Jsadaa\PhpCoreLibrary\Primitives\Str\Str, mixed>' is more general than the declared return type 'Jsadaa\PhpCoreLibrary\Modules\Result\Result<Jsadaa\PhpCoreLibrary\Primitives\Str\Str, string>' for Jsadaa\PhpCoreLibrary\Modules\Process\StreamReader::readAvailable (see https://psalm.dev/197)
        return [97;41mResult::ok(Str::of($data))[0m;


[0;31mERROR[0m: MixedReturnTypeCoercion - ]8;;file:///Users/jsadaa/Github/personal/php-core-library/src/Modules/Process/StreamReader.php#L66\src/Modules/Process/[1;31mStreamReader.php:66:16[0m]8;;\ - The declared return type 'Jsadaa\PhpCoreLibrary\Modules\Result\Result<Jsadaa\PhpCoreLibrary\Primitives\Str\Str, string>' for Jsadaa\PhpCoreLibrary\Modules\Process\StreamReader::readAll is more specific than the inferred return type 'Jsadaa\PhpCoreLibrary\Modules\Result\Result<Jsadaa\PhpCoreLibrary\Primitives\Str\Str, mixed>|Jsadaa\PhpCoreLibrary\Modules\Result\Result<mixed, 'Failed to read from stream'|'Read timeout exceeded'>' (see https://psalm.dev/197)
     * @return [97;41mResult<Str, string>[0m


[0;31mERROR[0m: MixedReturnTypeCoercion - ]8;;file:///Users/jsadaa/Github/personal/php-core-library/src/Modules/Process/StreamReader.php#L77\src/Modules/Process/[1;31mStreamReader.php:77:24[0m]8;;\ - The type 'Jsadaa\PhpCoreLibrary\Modules\Result\Result<mixed, 'Read timeout exceeded'>' is more general than the declared return type 'Jsadaa\PhpCoreLibrary\Modules\Result\Result<Jsadaa\PhpCoreLibrary\Primitives\Str\Str, string>' for Jsadaa\PhpCoreLibrary\Modules\Process\StreamReader::readAll (see https://psalm.dev/197)
                return [97;41mResult::err("Read timeout exceeded")[0m;


[0;31mERROR[0m: MixedReturnTypeCoercion - ]8;;file:///Users/jsadaa/Github/personal/php-core-library/src/Modules/Process/StreamReader.php#L87\src/Modules/Process/[1;31mStreamReader.php:87:24[0m]8;;\ - The type 'Jsadaa\PhpCoreLibrary\Modules\Result\Result<mixed, 'Failed to read from stream'>' is more general than the declared return type 'Jsadaa\PhpCoreLibrary\Modules\Result\Result<Jsadaa\PhpCoreLibrary\Primitives\Str\Str, string>' for Jsadaa\PhpCoreLibrary\Modules\Process\StreamReader::readAll (see https://psalm.dev/197)
                return [97;41mResult::err("Failed to read from stream")[0m;


[0;31mERROR[0m: MixedReturnTypeCoercion - ]8;;file:///Users/jsadaa/Github/personal/php-core-library/src/Modules/Process/StreamReader.php#L98\src/Modules/Process/[1;31mStreamReader.php:98:16[0m]8;;\ - The type 'Jsadaa\PhpCoreLibrary\Modules\Result\Result<Jsadaa\PhpCoreLibrary\Primitives\Str\Str, mixed>' is more general than the declared return type 'Jsadaa\PhpCoreLibrary\Modules\Result\Result<Jsadaa\PhpCoreLibrary\Primitives\Str\Str, string>' for Jsadaa\PhpCoreLibrary\Modules\Process\StreamReader::readAll (see https://psalm.dev/197)
        return [97;41mResult::ok($result)[0m;


[0;31mERROR[0m: MixedReturnTypeCoercion - ]8;;file:///Users/jsadaa/Github/personal/php-core-library/src/Modules/Process/StreamReader.php#L104\src/Modules/Process/[1;31mStreamReader.php:104:16[0m]8;;\ - The declared return type 'Jsadaa\PhpCoreLibrary\Modules\Result\Result<Jsadaa\PhpCoreLibrary\Primitives\Str\Str, string>' for Jsadaa\PhpCoreLibrary\Modules\Process\StreamReader::readUntil is more specific than the inferred return type 'Jsadaa\PhpCoreLibrary\Modules\Result\Result<Jsadaa\PhpCoreLibrary\Primitives\Str\Str, mixed>|Jsadaa\PhpCoreLibrary\Modules\Result\Result<mixed, 'Read timeout exceeded'>' (see https://psalm.dev/197)
     * @return [97;41mResult<Str, string>[0m


[0;31mERROR[0m: MixedReturnTypeCoercion - ]8;;file:///Users/jsadaa/Github/personal/php-core-library/src/Modules/Process/StreamReader.php#L116\src/Modules/Process/[1;31mStreamReader.php:116:24[0m]8;;\ - The type 'Jsadaa\PhpCoreLibrary\Modules\Result\Result<mixed, 'Read timeout exceeded'>' is more general than the declared return type 'Jsadaa\PhpCoreLibrary\Modules\Result\Result<Jsadaa\PhpCoreLibrary\Primitives\Str\Str, string>' for Jsadaa\PhpCoreLibrary\Modules\Process\StreamReader::readUntil (see https://psalm.dev/197)
                return [97;41mResult::err("Read timeout exceeded")[0m;


[0;31mERROR[0m: MixedReturnTypeCoercion - ]8;;file:///Users/jsadaa/Github/personal/php-core-library/src/Modules/Process/StreamReader.php#L136\src/Modules/Process/[1;31mStreamReader.php:136:16[0m]8;;\ - The type 'Jsadaa\PhpCoreLibrary\Modules\Result\Result<Jsadaa\PhpCoreLibrary\Primitives\Str\Str, mixed>' is more general than the declared return type 'Jsadaa\PhpCoreLibrary\Modules\Result\Result<Jsadaa\PhpCoreLibrary\Primitives\Str\Str, string>' for Jsadaa\PhpCoreLibrary\Modules\Process\StreamReader::readUntil (see https://psalm.dev/197)
        return [97;41mResult::ok($result)[0m;


[0;31mERROR[0m: RedundantConditionGivenDocblockType - ]8;;file:///Users/jsadaa/Github/personal/php-core-library/src/Modules/Process/StreamReader.php#L152\src/Modules/Process/[1;31mStreamReader.php:152:13[0m]8;;\ - Docblock-defined type resource for $this->stream is always resource (see https://psalm.dev/156)
        if ([97;41mis_resource($this->stream)[0m) {


[0;31mERROR[0m: InvalidPropertyAssignmentValue - ]8;;file:///Users/jsadaa/Github/personal/php-core-library/src/Modules/Process/StreamReader.php#L153\src/Modules/Process/[1;31mStreamReader.php:153:20[0m]8;;\ - $this->stream with declared type 'resource' cannot be assigned type 'closed-resource' (see https://psalm.dev/145)
            fclose([97;41m$this->stream[0m);


[0;31mERROR[0m: ImpureMethodCall - ]8;;file:///Users/jsadaa/Github/personal/php-core-library/src/Modules/Process/StreamWriter.php#L46\src/Modules/Process/[1;31mStreamWriter.php:46:16[0m]8;;\ - Cannot call an impure constructor from a pure context (see https://psalm.dev/203)
        return [97;41mnew self(
            $stream,
            Integer::of(8192),
            false,
            Str::of(PHP_EOL)
        )[0m;


[0;31mERROR[0m: ImpureMethodCall - ]8;;file:///Users/jsadaa/Github/personal/php-core-library/src/Modules/Process/StreamWriter.php#L62\src/Modules/Process/[1;31mStreamWriter.php:62:16[0m]8;;\ - Cannot call an impure constructor from a pure context (see https://psalm.dev/203)
        return [97;41mnew self(
            $stream,
            Integer::of(8192),
            true,
            Str::of(PHP_EOL)
        )[0m;


[0;31mERROR[0m: MixedReturnTypeCoercion - ]8;;file:///Users/jsadaa/Github/personal/php-core-library/src/Modules/Process/StreamWriter.php#L103\src/Modules/Process/[1;31mStreamWriter.php:103:16[0m]8;;\ - The declared return type 'Jsadaa\PhpCoreLibrary\Modules\Result\Result<Jsadaa\PhpCoreLibrary\Primitives\Integer\Integer, string>' for Jsadaa\PhpCoreLibrary\Modules\Process\StreamWriter::write is more specific than the inferred return type 'Jsadaa\PhpCoreLibrary\Modules\Result\Result<Jsadaa\PhpCoreLibrary\Primitives\Integer\Integer, mixed>|Jsadaa\PhpCoreLibrary\Modules\Result\Result<mixed, 'Failed to write to stream'>' (see https://psalm.dev/197)
     * @return [97;41mResult<Integer, string>[0m


[0;31mERROR[0m: MixedReturnTypeCoercion - ]8;;file:///Users/jsadaa/Github/personal/php-core-library/src/Modules/Process/StreamWriter.php#L110\src/Modules/Process/[1;31mStreamWriter.php:110:20[0m]8;;\ - The type 'Jsadaa\PhpCoreLibrary\Modules\Result\Result<Jsadaa\PhpCoreLibrary\Primitives\Integer\Integer, mixed>' is more general than the declared return type 'Jsadaa\PhpCoreLibrary\Modules\Result\Result<Jsadaa\PhpCoreLibrary\Primitives\Integer\Integer, string>' for Jsadaa\PhpCoreLibrary\Modules\Process\StreamWriter::write (see https://psalm.dev/197)
            return [97;41mResult::ok(Integer::of(0))[0m;


[0;31mERROR[0m: MixedReturnTypeCoercion - ]8;;file:///Users/jsadaa/Github/personal/php-core-library/src/Modules/Process/StreamWriter.php#L116\src/Modules/Process/[1;31mStreamWriter.php:116:20[0m]8;;\ - The type 'Jsadaa\PhpCoreLibrary\Modules\Result\Result<mixed, 'Failed to write to stream'>' is more general than the declared return type 'Jsadaa\PhpCoreLibrary\Modules\Result\Result<Jsadaa\PhpCoreLibrary\Primitives\Integer\Integer, string>' for Jsadaa\PhpCoreLibrary\Modules\Process\StreamWriter::write (see https://psalm.dev/197)
            return [97;41mResult::err("Failed to write to stream")[0m;


[0;31mERROR[0m: MixedReturnTypeCoercion - ]8;;file:///Users/jsadaa/Github/personal/php-core-library/src/Modules/Process/StreamWriter.php#L123\src/Modules/Process/[1;31mStreamWriter.php:123:16[0m]8;;\ - The type 'Jsadaa\PhpCoreLibrary\Modules\Result\Result<Jsadaa\PhpCoreLibrary\Primitives\Integer\Integer, mixed>' is more general than the declared return type 'Jsadaa\PhpCoreLibrary\Modules\Result\Result<Jsadaa\PhpCoreLibrary\Primitives\Integer\Integer, string>' for Jsadaa\PhpCoreLibrary\Modules\Process\StreamWriter::write (see https://psalm.dev/197)
        return [97;41mResult::ok(Integer::of($written))[0m;


[0;31mERROR[0m: MixedReturnTypeCoercion - ]8;;file:///Users/jsadaa/Github/personal/php-core-library/src/Modules/Process/StreamWriter.php#L141\src/Modules/Process/[1;31mStreamWriter.php:141:16[0m]8;;\ - The declared return type 'Jsadaa\PhpCoreLibrary\Modules\Result\Result<Jsadaa\PhpCoreLibrary\Primitives\Integer\Integer, string>' for Jsadaa\PhpCoreLibrary\Modules\Process\StreamWriter::writeLines is more specific than the inferred return type 'Jsadaa\PhpCoreLibrary\Modules\Result\Result<Jsadaa\PhpCoreLibrary\Primitives\Integer\Integer, mixed>|Jsadaa\PhpCoreLibrary\Modules\Result\Result<Jsadaa\PhpCoreLibrary\Primitives\Integer\Integer, string>' (see https://psalm.dev/197)
     * @return [97;41mResult<Integer, string>[0m


[0;31mERROR[0m: MixedReturnTypeCoercion - ]8;;file:///Users/jsadaa/Github/personal/php-core-library/src/Modules/Process/StreamWriter.php#L161\src/Modules/Process/[1;31mStreamWriter.php:161:16[0m]8;;\ - The type 'Jsadaa\PhpCoreLibrary\Modules\Result\Result<Jsadaa\PhpCoreLibrary\Primitives\Integer\Integer, mixed>' is more general than the declared return type 'Jsadaa\PhpCoreLibrary\Modules\Result\Result<Jsadaa\PhpCoreLibrary\Primitives\Integer\Integer, string>' for Jsadaa\PhpCoreLibrary\Modules\Process\StreamWriter::writeLines (see https://psalm.dev/197)
        return [97;41mResult::ok($totalWritten)[0m;


[0;31mERROR[0m: MixedReturnTypeCoercion - ]8;;file:///Users/jsadaa/Github/personal/php-core-library/src/Modules/Process/StreamWriter.php#L167\src/Modules/Process/[1;31mStreamWriter.php:167:16[0m]8;;\ - The declared return type 'Jsadaa\PhpCoreLibrary\Modules\Result\Result<Jsadaa\PhpCoreLibrary\Primitives\Integer\Integer, string>' for Jsadaa\PhpCoreLibrary\Modules\Process\StreamWriter::writeChunked is more specific than the inferred return type 'Jsadaa\PhpCoreLibrary\Modules\Result\Result<Jsadaa\PhpCoreLibrary\Primitives\Integer\Integer, mixed>|Jsadaa\PhpCoreLibrary\Modules\Result\Result<Jsadaa\PhpCoreLibrary\Primitives\Integer\Integer, string>' (see https://psalm.dev/197)
     * @return [97;41mResult<Integer, string>[0m


[0;31mERROR[0m: MixedReturnTypeCoercion - ]8;;file:///Users/jsadaa/Github/personal/php-core-library/src/Modules/Process/StreamWriter.php#L189\src/Modules/Process/[1;31mStreamWriter.php:189:16[0m]8;;\ - The type 'Jsadaa\PhpCoreLibrary\Modules\Result\Result<Jsadaa\PhpCoreLibrary\Primitives\Integer\Integer, mixed>' is more general than the declared return type 'Jsadaa\PhpCoreLibrary\Modules\Result\Result<Jsadaa\PhpCoreLibrary\Primitives\Integer\Integer, string>' for Jsadaa\PhpCoreLibrary\Modules\Process\StreamWriter::writeChunked (see https://psalm.dev/197)
        return [97;41mResult::ok($totalWritten)[0m;


[0;31mERROR[0m: MixedReturnTypeCoercion - ]8;;file:///Users/jsadaa/Github/personal/php-core-library/src/Modules/Process/StreamWriter.php#L195\src/Modules/Process/[1;31mStreamWriter.php:195:16[0m]8;;\ - The declared return type 'Jsadaa\PhpCoreLibrary\Modules\Result\Result<null, string>' for Jsadaa\PhpCoreLibrary\Modules\Process\StreamWriter::flush is more specific than the inferred return type 'Jsadaa\PhpCoreLibrary\Modules\Result\Result<mixed, 'Failed to flush stream'>|Jsadaa\PhpCoreLibrary\Modules\Result\Result<null, mixed>' (see https://psalm.dev/197)
     * @return [97;41mResult<null, string>[0m


[0;31mERROR[0m: MixedReturnTypeCoercion - ]8;;file:///Users/jsadaa/Github/personal/php-core-library/src/Modules/Process/StreamWriter.php#L201\src/Modules/Process/[1;31mStreamWriter.php:201:16[0m]8;;\ - The type 'Jsadaa\PhpCoreLibrary\Modules\Result\Result<mixed, 'Failed to flush stream'>|Jsadaa\PhpCoreLibrary\Modules\Result\Result<null, mixed>' is more general than the declared return type 'Jsadaa\PhpCoreLibrary\Modules\Result\Result<null, string>' for Jsadaa\PhpCoreLibrary\Modules\Process\StreamWriter::flush (see https://psalm.dev/197)
        return [97;41m$result !== false
            ? Result::ok(null)
            : Result::err("Failed to flush stream")[0m;


[0;31mERROR[0m: ImpureFunctionCall - ]8;;file:///Users/jsadaa/Github/personal/php-core-library/src/Primitives/Str/Str.php#L1078\src/Primitives/Str/[1;31mStr.php:1078:25[0m]8;;\ - Cannot call an impure function from a mutation-free context (see https://psalm.dev/202)
        return self::of([97;41m$mapper($this->value)[0m);


[0;31mERROR[0m: ImpureMethodCall - ]8;;file:///Users/jsadaa/Github/personal/php-core-library/src/Primitives/Str/Str.php#L1224\src/Primitives/Str/[1;31mStr.php:1224:19[0m]8;;\ - Cannot call a possibly-mutating method from a mutation-free context (see https://psalm.dev/203)
            Char::[97;41mof[0m(\mb_substr($this->value, $index->toInt(), 1, self::UTF8)),


------------------------------
[0;31m54 errors[0m found
------------------------------
Psalm can automatically fix 1 of these issues.
Run Psalm again with 
[30;48;5;195m--alter --issues=InvalidNullableReturnType --dry-run[0m
to see what it can fix.
------------------------------

Checks took 0.58 seconds and used 84.269MB of memory
Psalm was able to infer types for 99.8840% of the codebase
